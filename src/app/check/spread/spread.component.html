<div class="page-location">
  <a class="h4 pad-r-xs font-bold">展期贷款审批列表</a>
  <a class="page-location-item"><i class="page-location-icon glyphicon glyphicon-briefcase"></i>审批事项<i class="pad-l-min fa fa-angle-right"></i></a>
  <a class="page-location-item active">展期贷款审批列表</a>
</div>
<div class="pad-l-def pad-r-def pad-b-def pad-t-sm">
  <div class="tab-container">
    <ul class="nav nav-tabs nav-tab-info">
      <li [ngClass]="{'active':authApplyReplyNum==1}">
        <a (click)="getList(1)">待审批</a>
      </li>
      <li [ngClass]="{'active':authApplyReplyNum==2}">
        <a (click)="getList(2)">已审批</a>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active">
        <p-dataTable  [value]="dataList" emptyMessage="{{loading?'':'暂无数据'}}"
                     [loading]="loading" scrollable="true" scrollHeight="375px">

          <p-column field="rolloverApplyId" header="展期申请ID" [style]="{'width':'150px'}"></p-column>
          <p-column field="memberName" header="会员名称" [style]="{'width':'150px'}">
            <ng-template let-data="rowData" pTemplate="body">
              <div textMaxLength="200px" title="{{data.memberName}}">{{data.memberName}}</div>
            </ng-template>
          </p-column>
          <p-column field="borrowApplyId" header="借款单ID" [style]="{'width':'150px'}"></p-column>
          <p-column field="repaymentPlanStr" header="还款期数" [style]="{'width':'100px'}"></p-column>
          <p-column field="rolloverAmount" header="展期金额" [style]="{'width':'150px'}">
            <ng-template let-operation="rowData" pTemplate="body">
              <div class="text-right">
                {{operation.rolloverAmount | yuanFormat:2:true}}
              </div>
            </ng-template>
          </p-column>
          <p-column field="comfirmRolloverTime" header="展期开始日期" styleClass="text-center" [style]="{'width':'120px'}">
            <ng-template let-data="rowData" pTemplate="body">
              <div textMaxLength="100px" title="{{data.comfirmRolloverTime}}">{{replaceDate(data.comfirmRolloverTime)|date:'yyyy-MM-dd'}}</div>
            </ng-template>
          </p-column>
          <p-column field="statusDic" header="状态" [style]="{'width':'120px'}"></p-column>
          <p-column field="ooo" header="操作" [style]="{'width':'120px'}">
            <ng-template let-operation="rowData" pTemplate="body" styleClass="text-center">
              <div class="table-btn-group">
                <button *ngIf="authApplyReplyNum==1" class="table-btn" (click)='check(operation)'>审批</button>
                <button *ngIf="authApplyReplyNum==2" class="table-btn" (click)='detail(operation)'>详情</button>
              </div>
            </ng-template>
          </p-column>
          <p-footer>
            <div class="clearfix">
              <div class="pull-right">
                <paginator [(index)]="page" [count]="count" [changePageSizeAble]="true" [(pageSize)]="rows" (onChangePage)="getList(authApplyReplyNum)" size="sm" [showTotal]="true"></paginator>
              </div>
            </div>
          </p-footer>
        </p-dataTable>

      </div>
      </div>
    </div>

</div>
